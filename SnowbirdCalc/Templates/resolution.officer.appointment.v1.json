{
  "id": "resolution.officer.appointment.v1",
  "name": "Officer Appointment / Authorization",
  "version": 2,
  "typeTag": "GOV",
  "fileNamePattern": "{{resolutionId}}.pdf",

  "fields": [
    { "id": "date", "label": "Resolution Date", "type": "date", "required": true },

    { "id": "entity", "label": "Entity", "type": "entity", "required": true },

    { "id": "officerName", "label": "Officer Name", "type": "text", "required": true },

    {
      "id": "officerTitle",
      "label": "Officer Title",
      "type": "enum",
      "options": [
        "Chief Executive Officer",
        "President",
        "Vice President",
        "Secretary",
        "Treasurer",
        "CFO",
        "COO",
        "Manager",
        "Director",
        "Agent",
        "Other"
      ],
      "required": true
    },

    {
      "id": "officerTitleOther",
      "label": "Other Title (specify)",
      "type": "text",
      "visibleIf": { "field": "officerTitle", "equals": "Other" }
    },

    {
      "id": "isEquityHolder",
      "label": "Is this officer an equity holder?",
      "type": "boolean",
      "required": true
    },

    {
      "id": "equityPercent",
      "label": "Equity % (0–100)",
      "type": "number",
      "visibleIf": { "field": "isEquityHolder", "equals": true }
    },

    {
      "id": "equityClass",
      "label": "Equity Class",
      "type": "enum",
      "options": [ "Common", "Preferred", "Class A", "Class B", "Units", "Other" ],
      "visibleIf": { "field": "isEquityHolder", "equals": true }
    },

    { "id": "effectiveDate", "label": "Effective Date", "type": "date", "required": true },

    {
      "id": "endDate",
      "label": "End Date (optional)",
      "type": "date",
      "validate": { "gteField": "effectiveDate", "message": "End Date must be on/after Effective Date." }
    },

    {
      "id": "authorityScopes",
      "label": "Authority Granted",
      "type": "multiselect",
      "options": [
        "Banking (open/maintain accounts, sign checks/ACH)",
        "Contracts up to specified limit",
        "Personnel (hire/terminate within budget)",
        "Regulatory filings & compliance",
        "Expense approvals up to limit",
        "Other (specify)"
      ],
      "required": true
    },

    {
      "id": "contractLimit",
      "label": "Contract Limit ($)",
      "type": "money",
      "visibleIf": { "field": "authorityScopes", "includes": "Contracts up to specified limit" }
    },

    {
      "id": "expenseLimit",
      "label": "Expense Limit ($)",
      "type": "money",
      "visibleIf": { "field": "authorityScopes", "includes": "Expense approvals up to limit" }
    },

    {
      "id": "authorityOtherNotes",
      "label": "Other Authority (details)",
      "type": "multiline",
      "visibleIf": { "field": "authorityScopes", "includes": "Other (specify)" }
    },

    { "id": "notes", "label": "Notes/Purpose (optional)", "type": "multiline" },

    { "id": "signers", "label": "Approving Signers", "type": "signer", "minItems": 1, "required": true },

    {
      "id": "resolutionId",
      "label": "Resolution ID",
      "type": "computed",
      "compute": { "fn": "generateResolutionId", "args": { "entityIdPath": "entity.id", "datePath": "date" } }
    }
  ],

  "document": {
    "title": "{{resolutionId}} — Officer Appointment",
    "bodyMd": "# RESOLUTION OF {{entity.legalName}}\n\n**ID:** {{resolutionId}}\n\nAdopted on **{{date|longDate}}**.\n\nThe Company hereby appoints **{{officerName}}** as **{{officerTitle}}{{#if officerTitleOther}} ({{officerTitleOther}}){{/if}}** of **{{entity.legalName}}**, a {{entity.jurisdiction}} entity{{#if entity.ein}} (EIN {{entity.ein}}){{/if}}, effective **{{effectiveDate|longDate}}**{{#if endDate}}, until **{{endDate|longDate}}**{{/if}}.\n\n{{#if isEquityHolder}}\n**Equity Holder:** Yes — **{{equityPercent}}%**{{#if equityClass}} of **{{equityClass}}**{{/if}}.\n{{/if}}\n\n**Authority Granted:**\n{{#each authorityScopes}}\n- {{this}}\n{{/each}}\n{{#if contractLimit}}\n- Contracts: authority up to **{{contractLimit|money}}**.\n{{/if}}\n{{#if expenseLimit}}\n- Expense approvals up to **{{expenseLimit|money}}**.\n{{/if}}\n{{#if authorityOtherNotes}}\n- Other: {{authorityOtherNotes}}\n{{/if}}\n\n{{#if notes}}\n**Notes:** {{notes}}\n{{/if}}\n\nThe undersigned certify that the foregoing was duly adopted and remains in full force and effect.\n\n{{#each signers}}\n---\n**{{name}}**  \n{{title}}  \n{{signatureBlock}}\n{{/each}}\n"
  }
}
